# 编码的多组输入和单组输入

说明：本文部分摘选自牛客、POJ并加入了个人思路历程

## 一、循环输入输出处理常见问题 

>- 多组输入和输出的做法在ACM和各大OJ也是很常见这些，现在企业招聘使用的一些平台很多也是支持这样的。
>- 碎碎念：笔者以前的时候，第一次接触接触这种输入输出的时候，很是不适应，但是后来，看到下面的一段文字才深刻理解了，单组输入输出和多组输入输出的联系。后来我就没有以前那么纠结，每次做题都想这题到底有没有按暗示我多组输入输出。后来我想通了之后的做法，就是，能用多组输入输出的我也懒得用单组输入输出了，因为多组的方式也能AC掉单组的，但是反正不一定，原因见下面的两端文字吧：
>>- 1、为什么需要循环输入输出：通常来说 OJ 对于每道题里面有.in 和.out 文件，分别表示测试数据的输入和输出。如果某些编程题的<b>所有数据</b>都只做在<b>一个.in </b>和<b>一个.out </b>中，这样就会变成多组测试了，所以需要提交的代码中循环处理。
>>- 2、处理方法：其实这个问题可以避免，就是编程题后台每个样例做一组对应的.in和.out 文件，这样就变成单组测试，代码就不需要循环处理，但是平时练习的题目质量不一，这个问题都会出现。代码里面循环处理了即使是单组测试也会完全没问题，所以为了偷懒，可以<font style="background: yellow"><b>全写成循环处理</b></font>。	

在线评测系统，你的程序的输入和输出是相互独立的（也就是说，一个在.in文件，输出会重定向到另一个.out文件），因此，每当处理完一组测试数据，就应当按题目要求进行相应的输出，而不必将所有结果存储起来一起输出。

##  二、常见语法

```c
#include <stdio.h>
int main() {
    int a,b;
    while(scanf("%d%d",&a, &b) != EOF)	//注意while处理多个case
        printf("%d\n",a+b);
    return 0;
}
```
但是我本人，还喜欢这种方式
```c
#include <stdio.h>
int main() {
    int a,b;
    while(~scanf("%d%d",&a,&b))	//注意while处理多个case
        printf("%d\n",a+b);
    return 0;
}
```

解释：`while(~scanf("%d%d",&a,&b))`和` while(scanf("%d%d",&a, &b) != EOF)`是等效的
~是按位取反，scanf的返回值是输入值的个数，如果没有输入值就是返回-1
而我们知道-1的补码表示就是全1，按位取反显然就是0

//特别的，还有在多组输入同时还要求a或者b不为0的
```c
#include<cstdio>
int main()
{
	int a,b;
	while(scanf("%d%d",&a,&b)!=EOF&&(a!=0||b!=0))
	{
		printf("%d\n",a+b);
	}
	return 0;
}
```

```cpp
#include <iostream>
using namespace std;
int main() {
    int a,b;
    while(cin >> a >> b)//注意while处理多个case
        cout << a+b << endl;
}
```



## 三、补充——防踩坑
>- 1）循环输入输出：会发生一个问题(十分常见！！！！)，如果测试数据是多组的，但是恰巧你代码里面需要些标记数组，map，set 等，在循环内一定记得清空，不然可能会产生前面的测试样例影响了后续数据的答案。

>- 2）一般多组输出，记得要换行，printf("%d\n",sum);
//第一次的时候，由于没有加\n，OJ告诉我是，答案错误
//加了\n就对了



